# V4.1 Manual Configuration Guide

## Post-Deployment Manual Steps Required

This guide provides step-by-step instructions for manually configuring features that cannot be automatically deployed.

---

## üîß Part 1: Database Views Configuration

### Executor Task Checklist Database

#### View 1: "By Stage" Board View
1. Open the **Executor Task Checklist** database in Notion
2. Click **"+ Add a view"** button
3. Select **Board** layout
4. Name it: **"By Stage"**
5. Settings:
   - Group by: **Stage** property
   - Card preview: **Page content**
   - Card size: **Medium**

#### View 2: "Active Tasks" Filtered Table
1. In same database, click **"+ Add a view"**
2. Select **Table** layout
3. Name it: **"Active Tasks"**
4. Add Filter:
   - Where **Status** ‚Üí **is not** ‚Üí **Completed**
5. Sort by:
   - **Priority** ‚Üí **Descending**
   - Then by **Due Date** ‚Üí **Ascending**

### Funeral Budget Database

#### View: "Budget by Category" Board
1. Open the **Funeral Budget** database
2. Click **"+ Add a view"**
3. Select **Board** layout
4. Name it: **"Budget by Category"**
5. Settings:
   - Group by: **Category** property
   - Show: **Estimated Cost** and **Actual Cost** properties
   - Calculate totals for each column

---

## üìù Part 2: Database Templates Configuration

### Memories & Stories Database

#### Template: "New Memory"
1. Open **Memories & Stories** database
2. Click dropdown arrow next to **"New"** button
3. Select **"+ New template"**
4. Configure:
   - Name: **"New Memory"**
   - Icon: ‚ú® (sparkles emoji)
5. Add content blocks:
   ```
   ## A New Memory

   What happened? Who was there? Why was it special?

   [Add your memory here...]
   ```
6. Save template

### Executor Task Checklist Database

#### Template: "New Executor Task"
1. Open **Executor Task Checklist** database
2. Click dropdown arrow next to **"New"** button
3. Select **"+ New template"**
4. Configure:
   - Name: **"New Executor Task"**
   - Icon: üìù (memo emoji)
5. Add content blocks:
   ```
   ## New Task

   What needs to be done? What is the priority? When is it due?

   Task Details:
   - [ ] Step 1
   - [ ] Step 2
   - [ ] Step 3
   ```
6. Save template

---

## üîó Part 3: Fixing Database Relations

### Step 1: Collect Database IDs

Run this after deployment to get all database IDs:

1. Go to each database page
2. Click **"..."** menu ‚Üí **"Copy link"**
3. The URL contains the database ID:
   ```
   https://notion.so/workspace/abc123def456...
                              ^^^^^^^^^^^^^^ This is the database ID
   ```

### Step 2: Update Relations

For each database with relation properties:

#### Professional Team Assignments
1. Open **Professional Team Assignments** database
2. Click **Settings** (‚öôÔ∏è)
3. Find **"Related Professional"** property
4. Edit property ‚Üí Change database reference
5. Select **"Professional Contacts Directory"**

#### Account Beneficiaries
1. Open **Account Beneficiaries** database
2. Edit **"Related Account"** property
3. Link to **"Financial Account Inventory"**

### Common Relations to Fix

| Database | Property | Should Link To |
|----------|----------|----------------|
| Professional Team Assignments | Related Professional | Professional Contacts Directory |
| Account Beneficiaries | Related Account | Financial Account Inventory |
| Executor Task Dependencies | Blocks Task | Executor Task Checklist |
| Executor Task Dependencies | Blocked By | Executor Task Checklist |
| Document Relations | Primary Document | Master Document Library |
| Document Relations | Related Document | Master Document Library |

---

## ‚úÖ Part 4: Verification Checklist

### Database Views
- [ ] Executor Task Checklist has "By Stage" board view
- [ ] Executor Task Checklist has "Active Tasks" filtered view
- [ ] Funeral Budget has "Budget by Category" board view
- [ ] All views show correct properties
- [ ] Filters are working correctly

### Database Templates
- [ ] Memories & Stories has "New Memory" template
- [ ] Executor Task Checklist has "New Executor Task" template
- [ ] Templates have correct icons
- [ ] Templates contain proper content blocks
- [ ] Creating new items from templates works

### Relations
- [ ] All relation properties show linked database
- [ ] Bi-directional sync is working
- [ ] Can add/remove related items
- [ ] No "Configuration required" errors

### Rollups
- [ ] Task Progress rollup calculating correctly
- [ ] Page Completion Score showing values
- [ ] Budget Variance calculating properly
- [ ] All rollups showing data (not blank)

---

## üö´ Common Issues & Solutions

### Issue: "Configuration required" on relation property
**Solution**: The database reference is missing. Edit property and select target database.

### Issue: Rollup showing blank/zero
**Solution**: Check that:
1. The relation it depends on is configured
2. The target database has data
3. The aggregation function is correct

### Issue: Formula showing "Error"
**Solution**:
1. Check property names match exactly (case-sensitive)
2. Ensure all referenced properties exist
3. Verify formula syntax is correct

### Issue: View not filtering correctly
**Solution**:
1. Check filter logic (and/or conditions)
2. Ensure property values match filter criteria
3. Try removing and re-adding filter

---

## üìä Time Estimates

| Task | Estimated Time | Complexity |
|------|---------------|------------|
| Configure database views | 15 minutes | Easy |
| Create database templates | 10 minutes | Easy |
| Fix relations (16 total) | 30 minutes | Medium |
| Verify rollups | 15 minutes | Easy |
| Test everything | 20 minutes | Easy |
| **Total** | **90 minutes** | - |

---

## üéØ Priority Order

Complete in this sequence for best results:

1. **First**: Fix all relations (other features depend on these)
2. **Second**: Verify rollups are calculating
3. **Third**: Create database views
4. **Fourth**: Add database templates
5. **Finally**: Test all functionality

---

## üìû Support Resources

### If You Get Stuck

1. **Notion Help Center**: notion.so/help
2. **API Documentation**: developers.notion.com
3. **Database Relations Guide**: notion.so/help/relations-and-rollups
4. **Formula Reference**: notion.so/help/formulas

### Error Codes

- `validation_error`: Property configuration issue
- `object_not_found`: Database or page doesn't exist
- `insufficient_permissions`: Integration needs access
- `rate_limited`: Too many requests (wait and retry)

---

## üéâ Completion Confirmation

Once all manual steps are complete, verify:

```bash
# Run validation script (if available)
python validate_v41_deployment.py

# Or manually check:
- [ ] All 42 databases have correct properties
- [ ] All 16 relations are connected
- [ ] All 8 rollups show data
- [ ] All 3 database views are visible
- [ ] All 2 templates are working
- [ ] Navigation between related items works
- [ ] No "Configuration required" warnings
```

---

*Manual configuration typically takes 60-90 minutes*
*Best performed by someone familiar with Notion databases*
*Complete immediately after deployment for best results*