# COMPLETE DASHBOARD WIDGET SYSTEM
# Recovered from legacy progress_dashboard.py (608 lines)

dashboard_system:
  enabled: true
  update_frequency: "real_time"

progress_widgets:
  # PROGRESS BAR WIDGET - Complete Implementation
  estate_progress_bar:
    type: "progress_bar"
    title: "Overall Estate Planning Progress"
    description: "Complete overview of all estate planning tasks"
    position: [1, 1]
    size: "large"
    data_source:
      database: "tasks_master"
      completed_filter:
        property: "Status"
        condition: "equals"
        value: "‚úÖ Complete"
      total_count_property: "task_count"
    visualization:
      style: "unicode_bar"
      length: 20
      completed_char: "‚ñà"
      remaining_char: "‚ñë"
      show_percentage: true
      show_fraction: true
    content_template: |
      üìä **Estate Planning Progress**

      {{progress_bar}} {{percentage}}% ({{completed}}/{{total}})

      **Current Status**: {{status_text}}
      **Estimated Completion**: {{estimated_date}}
      **Last Updated**: {{last_update}}

  # MILESTONE TRACKER WIDGET - Complete Implementation
  milestone_tracker:
    type: "milestone_tracker"
    title: "Major Estate Planning Milestones"
    description: "Track completion of major estate planning phases"
    position: [1, 2]
    size: "medium"
    data_source:
      database: "milestones_master"
      status_property: "Milestone_Status"
      date_property: "Target_Date"
      priority_property: "Priority"
    milestones:
      - name: "Initial Planning & Will Draft"
        key: "phase_1"
        target_tasks: ["1.1", "1.2", "1.3", "2.1"]
        icon: "üìù"
      - name: "Asset Documentation Complete"
        key: "phase_2"
        target_tasks: ["3.1", "3.2", "4.1", "4.2"]
        icon: "üìã"
      - name: "Legal Review & Execution"
        key: "phase_3"
        target_tasks: ["5.1", "5.2", "6.1"]
        icon: "‚öñÔ∏è"
      - name: "Implementation & Notification"
        key: "phase_4"
        target_tasks: ["7.1", "7.2", "8.1"]
        icon: "‚úÖ"
    visualization:
      layout: "timeline"
      show_progress: true
      highlight_current: true
    content_template: |
      üéØ **Estate Planning Milestones**

      {{#milestones}}
      {{icon}} **{{name}}**
      Progress: {{progress_bar}} {{percentage}}%
      Status: {{status}} | Target: {{target_date}}

      {{/milestones}}

  # ACTIVITY TIMELINE WIDGET - Complete Implementation
  activity_timeline:
    type: "activity_timeline"
    title: "Recent Estate Planning Activity"
    description: "Timeline of recent completions and updates"
    position: [2, 1]
    size: "medium"
    data_source:
      database: "activity_log"
      date_property: "Completed_Date"
      task_property: "Task_Name"
      user_property: "Updated_By"
      max_items: 15
    timeline_config:
      time_grouping: "daily"
      show_relative_dates: true
      highlight_today: true
      max_days: 30
    content_template: |
      üìÖ **Recent Activity**

      {{#activities}}
      **{{relative_date}}** - {{time}}
      {{icon}} {{task_name}}
      {{#user}}Updated by {{user}}{{/user}}

      {{/activities}}

  # STATUS SUMMARY WIDGET - Complete Implementation
  status_summary:
    type: "status_summary"
    title: "Estate Planning Status Overview"
    description: "High-level status across all categories"
    position: [2, 2]
    size: "large"
    data_source:
      databases:
        - name: "financial_tasks"
          category: "Financial"
          icon: "üí∞"
        - name: "legal_tasks"
          category: "Legal"
          icon: "‚öñÔ∏è"
        - name: "personal_tasks"
          category: "Personal"
          icon: "üë•"
        - name: "digital_tasks"
          category: "Digital"
          icon: "üíª"
    status_calculation:
      completed_status: ["‚úÖ Complete", "‚úÖ Done"]
      in_progress_status: ["üü° In Progress", "üîÑ Working"]
      not_started_status: ["‚ö™ Not Started", "üìù Pending"]
    content_template: |
      üìä **Status Summary by Category**

      {{#categories}}
      {{icon}} **{{name}}**: {{completed}}/{{total}} ({{percentage}}%)
      {{progress_indicator}} {{status_text}}

      {{/categories}}

      **Overall**: {{overall_percentage}}% Complete
      **Next Priority**: {{next_task}}

  # METRIC CARDS - Complete Implementation
  metric_cards:
    type: "metric_card_grid"
    title: "Key Estate Planning Metrics"
    position: [3, 1]
    size: "wide"
    cards:
      completion_rate:
        title: "Completion Rate"
        icon: "üìà"
        data_source:
          calculation: "percentage"
          numerator_filter:
            property: "Status"
            condition: "equals"
            value: "‚úÖ Complete"
        display:
          format: "percentage"
          color_coding:
            - threshold: 80
              color: "green"
            - threshold: 50
              color: "yellow"
            - threshold: 0
              color: "red"
        content_template: "{{value}}% Complete"

      days_active:
        title: "Days Active"
        icon: "üìÖ"
        data_source:
          calculation: "date_difference"
          start_date_property: "Project_Start_Date"
          end_date: "today"
        display:
          format: "number"
          suffix: " days"
        content_template: "{{value}} days active"

      tasks_remaining:
        title: "Tasks Remaining"
        icon: "üìã"
        data_source:
          calculation: "count"
          filter:
            property: "Status"
            condition: "not_equals"
            value: "‚úÖ Complete"
        display:
          format: "number"
          color_coding:
            - threshold: 10
              color: "green"
            - threshold: 25
              color: "yellow"
            - threshold: 999
              color: "red"
        content_template: "{{value}} remaining"

# ASCII CHART SYSTEM - Complete Implementation
ascii_charts:
  enabled: true
  chart_configs:
    category_completion:
      title: "Completion by Category"
      type: "horizontal_bar"
      max_width: 20
      data_source:
        databases: ["financial_tasks", "legal_tasks", "personal_tasks", "digital_tasks"]
        completion_property: "Status"
        completed_values: ["‚úÖ Complete"]
      template: |
        üìä **Estate Completion by Category:**

        {{#categories}}
        {{name}}    {{bar}} {{percentage}}%
        {{/categories}}
    
    weekly_progress:
      title: "Weekly Progress Trend"
      type: "line_chart"
      max_width: 30
      data_source:
        time_series: true
        grouping: "weekly"
        metric: "completion_rate"
        weeks_back: 8
      template: |
        üìà **Weekly Progress Trend:**

        {{chart_line}}
        {{axis_labels}}

# DASHBOARD LAYOUT SYSTEM - Complete Implementation
dashboard_layouts:
  executive_summary:
    name: "Executive Dashboard"
    description: "High-level overview for decision makers"
    layout:
      columns: 3
      rows: 2
    widgets:
      - widget: "estate_progress_bar"
        position: [1, 1]
        span: [2, 1]
      - widget: "status_summary"
        position: [3, 1]
        span: [1, 2]
      - widget: "milestone_tracker"
        position: [1, 2]
        span: [1, 1]
      - widget: "metric_cards"
        position: [2, 2]
        span: [1, 1]

  detailed_tracking:
    name: "Detailed Progress Tracking"
    description: "Comprehensive view for active management"
    layout:
      columns: 2
      rows: 3
    widgets:
      - widget: "estate_progress_bar"
        position: [1, 1]
      - widget: "activity_timeline"
        position: [2, 1]
        span: [1, 2]
      - widget: "milestone_tracker"
        position: [1, 2]
      - widget: "status_summary"
        position: [1, 3]
      - widget: "ascii_charts"
        position: [2, 3]

# AUTO-UPDATE SYSTEM - Complete Implementation
auto_updates:
  enabled: true
  update_triggers:
    - event: "task_status_change"
      affected_widgets: ["estate_progress_bar", "status_summary", "metric_cards"]
    - event: "milestone_completion"
      affected_widgets: ["milestone_tracker", "activity_timeline"]
    - event: "database_rollup_change"
      affected_widgets: ["all"]
  update_frequency:
    real_time_widgets: ["activity_timeline"]
    scheduled_widgets:
      frequency: "hourly"
      widgets: ["metric_cards", "ascii_charts"]